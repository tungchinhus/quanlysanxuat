<!-- Mobile overlay -->
<div class="sidebar-overlay" [class.mobile-open]="isMobileOpen" (click)="closeMobileSidebar()"></div>

<nav class="sidebar" [class.collapsed]="isCollapsed" [class.mobile-open]="isMobileOpen">
  <div class="sidenav-header">
    <div class="brand-section">
      <div class="brand-logo" [class.collapsed]="isCollapsed">
        <div class="logo-container">
          <img class="logo-image" src="assets/icons/thibidiLogo.png" alt="Thibidi" />
          <div class="logo-text-container">
            <div class="logo-main-text">Thibidi</div>
          </div>
        </div>
      </div>
    </div>
    <!-- Mobile close button -->
    <button class="mobile-close-btn" (click)="closeMobileSidebar()" *ngIf="isMobileOpen">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <div class="nav-list">
    <a routerLink="/dashboard" routerLinkActive="active" 
       [title]="isCollapsed ? 'Dashboard' : ''"
       class="nav-item"
       (click)="onNavItemClick()">
      <div class="nav-icon">
        <i class="fas fa-tachometer-alt"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Dashboard</span>
    </a>
    
    <a routerLink="/production" routerLinkActive="active" 
       [title]="isCollapsed ? 'Quản Lý Sản Xuất' : ''"
       class="nav-item"
       (click)="onNavItemClick()">
      <div class="nav-icon">
        <i class="fas fa-industry"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Quản Lý Sản Xuất</span>
    </a>
    
    <a routerLink="/inventory" routerLinkActive="active" 
       [title]="isCollapsed ? 'Quản Lý Kho' : ''"
       class="nav-item"
       (click)="onNavItemClick()">
      <div class="nav-icon">
        <i class="fas fa-warehouse"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Quản Lý Kho</span>
    </a>
    
    <a routerLink="/quality" routerLinkActive="active" 
       [title]="isCollapsed ? 'Kiểm Soát Chất Lượng' : ''"
       class="nav-item"
       (click)="onNavItemClick()">
      <div class="nav-icon">
        <i class="fas fa-clipboard-check"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Kiểm Soát Chất Lượng</span>
    </a>
    
    <a href="#" 
       [title]="isCollapsed ? 'Báo Cáo' : ''"
       class="nav-item"
       (click)="onNavItemClick()">
      <div class="nav-icon">
        <i class="fas fa-chart-bar"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Báo Cáo</span>
    </a>
    
    <a routerLink="/users" routerLinkActive="active" 
       [title]="isCollapsed ? 'Quản Lý Người Dùng' : ''"
       class="nav-item"
       (click)="onNavItemClick()"
       *ngIf="canManageUsers()">
      <div class="nav-icon">
        <i class="fas fa-users-cog"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Quản Lý Người Dùng</span>
    </a>
    
    <a routerLink="/roles" routerLinkActive="active" 
       [title]="isCollapsed ? 'Quản Lý Phân Quyền' : ''"
       class="nav-item"
       (click)="onNavItemClick()"
       *ngIf="canManageRoles()">
      <div class="nav-icon">
        <i class="fas fa-user-shield"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Quản Lý Phân Quyền</span>
    </a>
    
    <a routerLink="/firebase-test" routerLinkActive="active" 
       [title]="isCollapsed ? 'Firebase Test' : ''"
       class="nav-item"
       (click)="onNavItemClick()"
       *ngIf="canManageUsers()">
      <div class="nav-icon">
        <i class="fas fa-database"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Firebase Test</span>
    </a>
    
    <a href="#" 
       [title]="isCollapsed ? 'Cài Đặt' : ''"
       class="nav-item"
       (click)="onNavItemClick()">
      <div class="nav-icon">
        <i class="fas fa-cog"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Cài Đặt</span>
    </a>
    
    <div class="nav-spacer"></div>
    
    <!-- Logout Button -->
    <a href="#" 
       [title]="isCollapsed ? 'Đăng Xuất' : ''"
       class="nav-item logout-item"
       (click)="logout()">
      <div class="nav-icon">
        <i class="fas fa-sign-out-alt"></i>
      </div>
      <span class="nav-text" [class.hidden]="isCollapsed">Đăng Xuất</span>
    </a>
  </div>
</nav>